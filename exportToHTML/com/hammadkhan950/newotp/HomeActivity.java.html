<html>
<head>
<title>HomeActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #067d17;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
HomeActivity.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">com.hammadkhan950.newotp;</span>

<span class="s0">import </span><span class="s1">android.content.DialogInterface;</span>
<span class="s0">import </span><span class="s1">android.content.Intent;</span>
<span class="s0">import </span><span class="s1">android.os.Bundle;</span>
<span class="s0">import </span><span class="s1">android.view.MenuItem;</span>

<span class="s0">import </span><span class="s1">androidx.annotation.NonNull;</span>
<span class="s0">import </span><span class="s1">androidx.appcompat.app.ActionBarDrawerToggle;</span>
<span class="s0">import </span><span class="s1">androidx.appcompat.app.AlertDialog;</span>
<span class="s0">import </span><span class="s1">androidx.appcompat.app.AppCompatActivity;</span>
<span class="s0">import </span><span class="s1">androidx.appcompat.widget.Toolbar;</span>
<span class="s0">import </span><span class="s1">androidx.core.view.GravityCompat;</span>
<span class="s0">import </span><span class="s1">androidx.drawerlayout.widget.DrawerLayout;</span>

<span class="s0">import </span><span class="s1">com.google.android.material.navigation.NavigationView;</span>
<span class="s0">import </span><span class="s1">com.google.firebase.auth.FirebaseAuth;</span>

<span class="s0">public class </span><span class="s1">HomeActivity </span><span class="s0">extends </span><span class="s1">AppCompatActivity </span><span class="s0">implements </span><span class="s1">NavigationView.OnNavigationItemSelectedListener {</span>

    <span class="s1">DrawerLayout drawer;</span>
    <span class="s1">Toolbar toolbar;</span>
    <span class="s1">NavigationView navigationView;</span>

    <span class="s1">@Override</span>
    <span class="s0">protected void </span><span class="s1">onCreate(Bundle savedInstanceState) {</span>
        <span class="s0">super</span><span class="s1">.onCreate(savedInstanceState);</span>
        <span class="s1">setContentView(R.layout.activity_home);</span>
        <span class="s1">navigationView = findViewById(R.id.nav_view);</span>
        <span class="s1">toolbar = findViewById(R.id.toolar);</span>
        <span class="s1">setSupportActionBar(toolbar);</span>
        <span class="s1">drawer = findViewById(R.id.drawer_layout);</span>
        <span class="s1">navigationView.setNavigationItemSelectedListener(</span><span class="s0">this</span><span class="s1">);</span>
        <span class="s1">ActionBarDrawerToggle toggle = </span><span class="s0">new </span><span class="s1">ActionBarDrawerToggle(</span><span class="s0">this</span><span class="s1">, drawer, toolbar,</span>
                <span class="s1">R.string.open_drawer, R.string.close_drawer);</span>
        <span class="s1">drawer.addDrawerListener(toggle);</span>
        <span class="s1">toggle.syncState();</span>
        <span class="s0">if </span><span class="s1">(savedInstanceState == </span><span class="s0">null</span><span class="s1">) {</span>
            <span class="s1">getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,</span>
                    <span class="s0">new </span><span class="s1">HomeFragment()).commit();</span>
            <span class="s1">navigationView.setCheckedItem(R.id.home);</span>
        <span class="s1">}</span>
    <span class="s1">}</span>

    <span class="s1">@Override</span>
    <span class="s0">public boolean </span><span class="s1">onNavigationItemSelected(@NonNull MenuItem item) {</span>

        <span class="s0">switch </span><span class="s1">(item.getItemId()) {</span>
            <span class="s0">case </span><span class="s1">R.id.home:</span>
                <span class="s1">getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,</span>
                        <span class="s0">new </span><span class="s1">HomeFragment()).commit();</span>
                <span class="s0">break</span><span class="s1">;</span>
            <span class="s0">case </span><span class="s1">R.id.myprofile:</span>
                <span class="s1">getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,</span>
                        <span class="s0">new </span><span class="s1">ProfileFragment()).commit();</span>
                <span class="s0">break</span><span class="s1">;</span>
            <span class="s0">case </span><span class="s1">R.id.logout:</span>
                <span class="s1">AlertDialog.Builder alert = </span><span class="s0">new </span><span class="s1">AlertDialog.Builder(</span><span class="s0">this</span><span class="s1">);</span>
                <span class="s1">alert.setMessage(</span><span class="s2">&quot;Are you sure you wnat to log out?&quot;</span><span class="s1">);</span>
                <span class="s1">alert.setPositiveButton(</span><span class="s2">&quot;Yes&quot;</span><span class="s1">,</span>
                        <span class="s0">new </span><span class="s1">DialogInterface.OnClickListener() {</span>
                            <span class="s1">@Override</span>
                            <span class="s0">public void </span><span class="s1">onClick(DialogInterface arg0, </span><span class="s0">int </span><span class="s1">arg1) {</span>
                                <span class="s1">FirebaseAuth.getInstance().signOut();</span>
                                <span class="s1">Intent intent=</span><span class="s0">new </span><span class="s1">Intent(HomeActivity.</span><span class="s0">this</span><span class="s1">,LoginActivity.</span><span class="s0">class</span><span class="s1">);</span>
                                <span class="s1">startActivity(intent);</span>
                            <span class="s1">}</span>
                        <span class="s1">});</span>
                <span class="s1">alert.setNegativeButton(</span><span class="s2">&quot;No&quot;</span><span class="s1">, </span><span class="s0">null</span><span class="s1">);</span>
                <span class="s1">AlertDialog al = alert.create();</span>
                <span class="s1">al.show();</span>
                <span class="s0">break</span><span class="s1">;</span>
            <span class="s0">case </span><span class="s1">R.id.nav_share:</span>
                <span class="s1">Intent sharingIntent = </span><span class="s0">new </span><span class="s1">Intent(Intent.ACTION_SEND);</span>
                <span class="s1">sharingIntent.setType(</span><span class="s2">&quot;text/plain&quot;</span><span class="s1">);</span>
                <span class="s1">String shareBody = </span><span class="s2">&quot;Your Body Here&quot;</span><span class="s1">;</span>
                <span class="s1">String shareSubject = </span><span class="s2">&quot;https://play.google.com/store/apps/details?id=com.hammadkhan950.mybooksapp&quot;</span><span class="s1">;</span>
                <span class="s1">sharingIntent.putExtra(Intent.EXTRA_TEXT, shareBody);</span>
                <span class="s1">sharingIntent.putExtra(Intent.EXTRA_SUBJECT, shareSubject);</span>
                <span class="s1">startActivity(Intent.createChooser(sharingIntent, </span><span class="s2">&quot;Share Using&quot;</span><span class="s1">));</span>
                <span class="s0">break</span><span class="s1">;</span>
            <span class="s0">case </span><span class="s1">R.id.about:</span>
                <span class="s1">AlertDialog.Builder alertDialogBuilder = </span><span class="s0">new </span><span class="s1">AlertDialog.Builder(</span><span class="s0">this</span><span class="s1">);</span>
                <span class="s1">alertDialogBuilder.setMessage(</span><span class="s2">&quot;This App is designed and developed by Hammad,Fuzail,Ejaz&quot;</span><span class="s1">);</span>
                <span class="s1">alertDialogBuilder.setPositiveButton(</span><span class="s2">&quot;Visit&quot;</span><span class="s1">,</span>
                        <span class="s0">new </span><span class="s1">DialogInterface.OnClickListener() {</span>
                            <span class="s1">@Override</span>
                            <span class="s0">public void </span><span class="s1">onClick(DialogInterface arg0, </span><span class="s0">int </span><span class="s1">arg1) {</span>
                                <span class="s1">Intent webIntent = </span><span class="s0">new </span><span class="s1">Intent(getApplicationContext(), WebActivity.</span><span class="s0">class</span><span class="s1">);</span>
                                <span class="s1">webIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);</span>
                                <span class="s1">startActivity(webIntent);</span>

                            <span class="s1">}</span>
                        <span class="s1">});</span>

                <span class="s1">AlertDialog alertDialog = alertDialogBuilder.create();</span>
                <span class="s1">alertDialog.show();</span>
        <span class="s1">}</span>
        <span class="s1">drawer.closeDrawer(GravityCompat.START);</span>
        <span class="s0">return true</span><span class="s1">;</span>
    <span class="s1">}</span>


    <span class="s1">@Override</span>
    <span class="s0">public void </span><span class="s1">onBackPressed() {</span>
        <span class="s0">if </span><span class="s1">(drawer.isDrawerOpen(GravityCompat.START)) {</span>
            <span class="s1">drawer.closeDrawer(GravityCompat.START);</span>
        <span class="s1">} </span><span class="s0">else </span><span class="s1">{</span>
            <span class="s0">super</span><span class="s1">.onBackPressed();</span>
        <span class="s1">}</span>

    <span class="s1">}</span>

<span class="s1">}</span></pre>
</body>
</html>